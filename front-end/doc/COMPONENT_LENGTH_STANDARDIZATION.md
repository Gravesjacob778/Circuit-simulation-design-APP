# 元件長度統一改進

## 改進目標
將所有雙端點元件統一為相同的長度（60 單位），確保視覺一致性和整齊的電路佈局。

## 統一標準

### 水平元件（端點在左右兩側）
- **統一長度**：60 單位
- **端點位置**：左端點 x = -30，右端點 x = 30
- **適用元件**：
  - ✅ 電阻 (Resistor)
  - ✅ 電容 (Capacitor)
  - ✅ 電感 (Inductor)
  - ✅ 二極體 (Diode)
  - ✅ LED
  - ✅ 開關 (Switch)
  - ✅ 電流表 (Ammeter)
  - ✅ 電壓表 (Voltmeter)
  - ✅ 通用元件 (Generic Component)

### 垂直元件（端點在上下兩側）
- **統一長度**：60 單位
- **端點位置**：上端點 y = -30，下端點 y = 30
- **適用元件**：
  - ✅ DC 電源 (DC Source)
  - ✅ AC 電源 (AC Source)

### 特殊元件
- **接地 (Ground)**：單端點元件，保持原有設計
- **運算放大器 (Op-Amp)**：多端點元件，保持原有設計
- **電晶體 (Transistor)**：三端點元件，保持原有設計

## 修改內容

### 1. 視覺繪製調整 (`CircuitCanvas.vue`)

#### 電容 (Capacitor)
```typescript
// 修改前
端點：x = -20 到 20（長度 40）
高亮框：width = 50

// 修改後
端點：x = -30 到 30（長度 60）
高亮框：width = 70
```

#### 通用元件 (Generic Component)
```typescript
// 修改前
端點：x = -25 到 25（長度 50）
矩形：width = 50
高亮框：width = 60

// 修改後
端點：x = -30 到 30（長度 60）
矩形：width = 60
高亮框：width = 70
```

### 2. 元件定義更新 (`componentDefinitions.ts`)

更新了以下元件的端點偏移量：
- **電容**：offsetX 從 ±20 改為 ±30
- **二極體**：offsetX 從 ±20 改為 ±30
- **LED**：offsetX 從 ±20 改為 ±30
- **開關**：offsetX 從 ±25 改為 ±30
- **電流表**：offsetX 從 ±20 改為 ±30
- **電壓表**：offsetX 從 ±20 改為 ±30

## 優點

### 1. 視覺一致性 ✨
- 所有元件具有相同的長度
- 電路圖看起來更整齊、專業

### 2. 對齊便利性 📐
- 元件更容易對齊
- 網格吸附更直觀

### 3. 連線整齊 🔗
- 相同長度的元件使得連線路徑更規則
- 減少不必要的轉折

### 4. 設計一致性 🎨
- 符合電路圖繪製的標準慣例
- 提升整體設計品質

## 測試建議

1. **視覺測試**
   - 拖曳各種元件到畫布上
   - 檢查所有元件的長度是否一致
   - 驗證端點位置是否正確

2. **連接測試**
   - 測試不同元件之間的連接
   - 確認端點位置與視覺表現一致
   - 檢查連線路徑是否正確

3. **旋轉測試**
   - 旋轉元件後檢查端點位置
   - 確認旋轉後的連線仍然正確

4. **對齊測試**
   - 測試多個元件的對齊效果
   - 驗證網格吸附功能

## 相容性

### 向後相容性
- ⚠️ 現有電路圖中的元件位置可能需要微調
- 建議：開啟舊電路圖後重新調整元件位置以獲得最佳視覺效果

### 未來擴展
- 新增元件時應遵循相同的長度標準
- 雙端點水平元件：端點位置 ±30
- 雙端點垂直元件：端點位置 ±30
